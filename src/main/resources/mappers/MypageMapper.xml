<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.zipchelin.repository.mybatis.mappers.MypageMapper">
	
	<select id="checkPwd" parameterType="java.util.Map">
		select decode(count(*),1,'true',0,'false') result from member_tbl where member_id=#{memberId} and member_pwd=#{memberPwd}
	</select>
	
	<!-- 멤버 조회 -->
    <select id="selectById" resultType="com.zipchelin.domain.Member" parameterType="string">
        select member_ID, member_PWD, member_NAME, member_EMAIL, member_PHONE, JOIN_DATE, member_IMG, MEMBER_ROLE
        from member_TBL
        where member_ID = #{memberId}
    </select>

    <!-- 멤버 수정 -->
    <update id="updateMember" parameterType="com.zipchelin.domain.Member">
        update member_TBL
        set member_pwd   = #{memberPwd},
            member_email = #{memberEmail},
            member_phone = #{memberPhone},
            member_img   = #{memberImg}
        where member_ID = #{memberId}
    </update>
</mapper>